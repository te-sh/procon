---
number: '047'
problem: D
problem_path: arc063_b
---
高橋君は $$ A_j - A_i $$ ($$ i \lt j $$) が最大となる $$ i, j $$ を選び, $$ i $$ の町で $$ \lfloor T/2 \rfloor $$ 個のリンゴを買い, $$ j $$ の町ですべてのリンゴを売るのが最大の利益となる.

青木君は $$ A_i $$ を1円上げるか, $$ A_j $$ を1円下げるかすれば高橋君の利益を減らすことができる.

ただし, $$ A_j - A_i = A_l - A_k $$ となる $$ k, l $$ ($$ k \lt l $$) があれば同じ操作をする必要がある. なお, すべての $$ A_i $$ は相異なるので $$ i \neq k,\ j \neq l $$ である.

よって問題は $$ A_j - A_i $$ が最大となる $$ (i, j) $$ の組み合わせの数を求める問題と読み替えられる.

最初から $$ A_i $$ を見ていき, $$ B_i = A_i - \min_{j \lt i} \{ A_j \} $$ を順に計算していき, 最後に $$ B_i $$ の最大値の個数を数える.
