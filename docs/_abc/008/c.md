---
number: '008'
problem: C
---
$$ i $$ 番目(並べたときの順序ではなく入力の順序)のコインが表になる確率を求める.

$$ C_i $$ の約数になっているコインが $$ C_i $$ の左側に何枚あるかによって $$ i $$ 番目のコインが表になるか裏になるかが決まる.

$$ C_i $$ の約数になっているコインの数を $$ k $$ 枚とすると, $$ C_i $$ の左側に $$ 0 $$ 枚, $$ 1 $$ 枚, $$ \dots $$, $$ k $$ 枚の $$ C_i $$ の約数のコインがある確率はすべて等しい. ($$ i $$ 番目のコインと $$ C_i $$ の約数になっているコインを並べる組み合わせを考えればいい)

$$ C_i $$ の約数になっているコインが $$ i $$ 番目のコインの左側にある枚数が偶数のときに $$ i $$ 番目のコインは表になるので, その確率は

$$
\frac{\lfloor k/2 \rfloor + 1}{k+1}
$$

となる.
