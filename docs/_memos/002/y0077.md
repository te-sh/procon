---
number: 77
---
ピラミッド列の列数を $$ n $$ とすると, ピラミッド列の $$ i $$ 列目のレンガの数 $$ S_i $$ は,

$$
\begin{align*}
S_i &= i         & i \leq \frac{n+1}{2} \\
S_i &= n - i + 1 & i \gt \frac{n+1}{2}
\end{align*}
$$

となる. 初期配置のレンガの数がピラミッド列のレンガの数より多い列に着目し, その差の合計が移動回数となる. (レンガは多い列から少ない列に移動するか, 多い列から捨てるかしかないため)

なお, 初期で配置されているレンガの総数が必要なレンガの総数より少ない場合はピラミッド列は作れない. 必要なレンガの総数 $$ S $$ は,

$$
\begin{align*}
S &= \sum S_i = 2\frac{\frac{n+1}{2}\frac{n-1}{2}}{2} + \frac{n+1}{2} \\
  &= \frac{n^2-1+2(n+1)}{4} \\
  &= \frac{(n+1)^2}{4}
\end{align*}
$$

となり, $$ n $$ は高々 100 程度となるので, 全探索する.
