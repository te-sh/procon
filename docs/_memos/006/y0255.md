---
layout: page
number: 255
---
[No.230](../005/y0230.html) の続編である. 基本的な解き方は No.230 と変わらない.

違いは以下の点である.

厚みの概念がある:

Segment Tree の操作として, 値をセットする/値を加えるの2種類の操作が必要となる.

$$ N $$ が大きい:

クエリを先読みして座標圧縮する. その際, 圧縮後の座標には圧縮前の座標の次の使用している座標への距離を重みとして持たせる. この重みは Segment Tree の更新時に使用する. 重みも別の Segment Tree で管理すれば指定の区間の重みの合計を $$ O(1) $$ で計算できる.
