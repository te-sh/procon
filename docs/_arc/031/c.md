---
number: '031'
problem: C
---
1から順番に端に移動させていく. このとき, 左右で距離の短い方に寄せる.

ここで, 数 $$ i $$ の左端(右端)までの距離は, $$ i $$ より左側(右側)にある $$ i $$ より大きい数の個数である. これは $$ i $$ より小さい数はすでに端に寄せられているため無関係となるからである. これをあらかじめ数えておけば, どちらに寄せればいいかはすぐにわかる.

これは転倒数と似ているので, 計算も同様に Binary Indexed Tree を使うのが速い.
