---
number: '051'
problem: C
---
$$ A = 1 $$ のときは $$ a_i $$ をソートして出力すればいい.

そうでないときは, $$ a_i $$ を $$ b_i A^{k_i} $$ ($$ 1 \leq b_i \lt A $$) と表す. これで昇順に並べると, $$ k_i $$ の昇順 ($$ k_i $$ が同じならば $$ b_i $$ の昇順) で並ぶようになる.

初期段階では $$ k_i $$ は高々 $$ 31 $$ なので, $$ \min(B, \sum (31-k_i)) $$ 回だけ優先順位付きキューか何かに突っ込んで小さい方から順に $$ k_i $$ を足していく. $$ B \leq \sum (31-k_i) $$ ならばこれで終了である.

$$ B \gt \sum (31_k_i) $$ の場合は上記の処理で $$ k_i $$ は $$ 31 $$ で揃ったはずなので, 残りの $$ B^{\prime} = B - \sum (31-k_i) $$ 回を均等に割り振る. $$ B^{\prime} $$ を $$ N $$ で割った余りは $$ b_i $$ が小さい方から割り振る.

出力の際の $$ A^{k_i} $$ は繰り返し2乗法を使う.
