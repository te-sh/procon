---
number: 497
---
各箱を頂点としたグラフを作る.

2つの箱の組をすべて調べて, 箱 $$ i $$ の中に箱 $$ j $$ が入るならば $$ i \rightarrow j $$ となる有向辺を追加する.

できたグラフをトポロジカルソートして, 後ろから順に最大何重の入れ子を作れるかを DP で更新していき, その最大値を求める.
