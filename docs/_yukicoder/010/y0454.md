---
number: 454
---
$$ N $$ の直前まで加算した値 $$ A_N $$ と真の値 $$ A $$ との誤差は,

$$
A - A_N = \sum_{n=N}^{\infty} \frac{1}{(x+n)^2}
$$

となる. $$ 1/(x+n)^2 $$ は単調減少関数なので,

$$
\sum_{n=N}^{\infty} \frac{1}{(x+n)^2} \gt
\int_{N}^{\infty} \frac{1}{(x+n)^2} dn = \frac{1}{x+N} \\
\sum_{n=N}^{\infty} \frac{1}{(x+n)^2} \lt
\int_{N}^{\infty} \frac{1}{(x+n-1)^2} dn = \frac{1}{x+N-1}
$$

となる. すなわち誤差はほぼ $$ 1/(x+N) $$ であり, $$ 10^{-9} $$ 以下の誤差にするためには $$ N $$ はおおよそ $$ 10^9 $$ 以上が必要で, これだと間に合わない.

そこで, $$ 1/(x+N) $$ を足した値の誤差を考えると,

$$
\sum_{n=N}^{\infty} \frac{1}{(x+n)^2} - \frac{1}{x+N} \lt
\frac{1}{x+N-1} - \frac{1}{x+N} = \frac{1}{(x+N-1)(x+N)}
$$

となり, これは誤差が $$ N^2 $$ のオーダーで効いてくるので, $$ N $$ が $$ 10^5 $$ 程度でも大丈夫である.
