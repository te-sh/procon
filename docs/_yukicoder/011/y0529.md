---
number: 519
---
まずはグラフを二辺連結成分分解する. 二辺連結成分をひとつの頂点とみなすと, 木になる.

木の上では $$ S $$ から $$ T $$ のルートは一意に定まり, 捕まえることができる獲物はそのルート上にある獲物となる.

この木をHL分解して, 各パス上での最大の価値の獲物を SegmentTree で管理する.

木の上での各頂点の獲物の価値は優先順位付きキューで管理する.
