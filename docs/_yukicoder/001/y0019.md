---
number: 19
---
先に選ぶステージから後に選ぶステージへの有向路をもつグラフとしてモデル化する. このとき, 各ステージへの流入路は高々1本であるので, グラフは頂点部からの木構造となる. 頂点部は単一ノードまたはループである. (木構造の途中または末端にループがあるためには流入路が2本以上必要であるためそういう構造にはならない)

Union-Find でグループ分けしておき, グループごとに最小難易度を求める.

頂点部が単一ノードならばそのステージから始める場合が最小難易度になる. 頂点部がループの場合はループ上のすべてのステージで全探索する.
