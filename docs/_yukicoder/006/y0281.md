---
number: 281
---
まずは, 竹2が最短の門松を作ることを考える.

$$ H_1 = H_3 $$ ならば, 竹1に魔法をかけておく. その結果 $$ H_1 = 0 $$ になった場合は門松を作ることはできない.

この時点で $$ H_2 \lt \min(H_1, H_3) $$ ならば竹2に魔法をかける必要はない.

そうでない場合は竹2に $$ \lceil (H_2 - \min(H_1, H_3)) / d \rceil $$ 回魔法をかける. 魔法をかけた結果, $$ H_2 = \min(H_1, H_3) $$ になる場合はさらにもう1回魔法をかける.

次に竹2が最長の門松を作ることを考える.

まずは竹1を短くする. $$ H_1 \lt H_2 $$ ならば竹1に魔法をかける必要はない.

そうでない場合は竹1に $$ \lceil (H_1 - H_2) \rceil $$ 回魔法をかける. 魔法をかけた結果, $$ H_1 = H_2 $$ になる場合はさらにもう1回魔法をかける.

竹3についても同様に短くする. その結果 $$ H_1 = H_3 $$ になる場合はさらにもう1回魔法をかける.

竹2が最短の門松を作る場合と竹2が最長の門松を作る場合でかける魔法が少ない方を採用する.
